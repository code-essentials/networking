<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Socket.IO Event Debugger</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 0; padding: 0 }
      header { padding: 12px; background: #222; color: #fff }
      .log-container { height: calc(100vh - 60px); overflow: auto }

      /* Header visibility controls */
      #visibility-controls { float: right; margin-right: 12px }
      #visibility-controls label { color: #fff; margin-left: 8px; font-size: 13px }
      #visibility-controls input { margin-right: 4px }

      /* Table layout: keep TS narrow and let other columns share remaining space */
      table { width: 100%; border-collapse: collapse; table-layout: fixed }
      thead th { text-align: left; padding: 8px; border-bottom: 1px solid #eee }
      td { padding: 8px; border-bottom: 1px solid #eee; overflow: hidden; text-overflow: ellipsis; white-space: nowrap }

      /* TS column fixed width */
      th:nth-child(1), td:nth-child(1) { width: 160px; min-width: 120px; max-width: 240px }

      /* Remaining four columns share the rest equally */
      th:nth-child(n+2), td:nth-child(n+2) { width: calc((100% - 160px) / 4) }

      .status-success { background: #e6ffed }
      .status-pending { background: #fff8e6 }
      .status-timeout { background: #ffecec }

      /* Expanded row: allow cells to wrap and show full content */
      tr.expanded td { white-space: normal; max-height: none }
      tr.expanded td:nth-child(n) { overflow: visible }
    </style>
  </head>
  <body>
    <header>
      <h3 style="display:inline-block;margin:0;vertical-align:middle">Socket.IO Event Debugger</h3>
      <div id="visibility-controls" style="display:inline-block;float:right; margin-right:12px;">
        <label><input type="checkbox" data-vis="info" checked> INFO</label>
        <label><input type="checkbox" data-vis="success" checked> SUCCESS</label>
        <label><input type="checkbox" data-vis="timeout" checked> TIMEOUT</label>
        <label><input type="checkbox" data-vis="pending" checked> PENDING</label>
        <label><input type="checkbox" data-vis="other" checked> OTHER</label>
      </div>
    </header>
    <div class="log-container">
      <table id="log">
        <thead>
          <tr><th>TS</th><th>Event</th><th>Client</th><th>Server</th><th>Status</th></tr>
        </thead>
        <tbody id="log-body"></tbody>
      </table>
    </div>
    <script src="renderer.js"></script>
  </body>
</html>
